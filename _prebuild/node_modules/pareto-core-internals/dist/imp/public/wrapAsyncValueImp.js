"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.wrapAsyncValueImp = exports.AsyncValue = void 0;
class AsyncValue {
    constructor(execute) {
        this.execute = execute;
    }
    map($v) {
        function rewrite(source, rewrite) {
            return wrapAsyncValueImp(((cb) => {
                source((v) => {
                    rewrite(v).__execute(cb);
                });
            }));
        }
        return rewrite(this.execute, $v);
    }
    //////////
    __execute($i) {
        this.execute($i);
    }
}
exports.AsyncValue = AsyncValue;
function wrapAsyncValueImp(execute) {
    return new AsyncValue(execute);
}
exports.wrapAsyncValueImp = wrapAsyncValueImp;
